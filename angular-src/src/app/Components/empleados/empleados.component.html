<!-- ############################################################################################ -->
<!-- ########################################## BODY ############################################ -->
<!-- ############################################################################################ -->

<!-- ########################################## INGRESAR EMPLEADO ############################## -->

<div id="modal1" class="modal">
  <div class="modal-content">
    <form (submit)="EmpleadoSubmit()" class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <input id="name" type="text" [(ngModel)]="nombre" name="nombre" class="validate" #inputnombre>
          <label for="name" #LabelNombre>Nombre</label>
        </div>
        <div class="input-field col s12">
          <input id="apellidos" type="text" [(ngModel)]="apellidos" name="apellidos" class="validate" #inputapellidos>
          <label for="apellidos" #LabelApellidos>Apellidos</label>
        </div>
        <div class="input-field col s12">
          <input (keypress)="Only_Numbers($event)" maxlength="9" id="cedula" type="text" [(ngModel)]="cedula" name="cedula" class="validate"
            #inputcedula>
          <label for="cedula" #LabelCedula>Cedula</label>
        </div>
        <div class="input-field col s12">
          <input id="direccion" type="text" [(ngModel)]="direccion" name="direccion" class="validate" #inputdireccion>
          <label for="direccion" #Labeldireccion>Dirección</label>
        </div>
        <div class="input-field col s12">
          <input (keypress)="Only_Numbers($event)" id="telefono" type="text" [(ngModel)]="telefono" name="telefono" class="validate"
            #inputtelefono>
          <label for="telefono" #LabelTelefono>Telefono</label>
        </div>
        <div class="input-field col s12">
          <input id="correo" type="email" [(ngModel)]="correo" name="correo" class="validate" #inputcorreo>
          <label for="correo" #LabelCorreo data-error="wrong" data-success="right">Correo</label>
        </div>
        <div class="input-field col s12">
          <input id="usuario" type="text" [(ngModel)]="usuario" name="usuario" class="validate" #inputusuario>
          <label for="name" #LabelUsuario>Usuario</label>
        </div>
        <div class="input-field col s12">
          <input id="contrasena" type='password' [(ngModel)]="contrasena" name="contrasena" class="validate" #inputcontrasena>
          <label for="name" #LabelContrasena>Contraseña</label>
        </div>
        <div class="input-field col s12">
          <a class="modal-action modal-close waves-effect waves-green btn">Cancelar</a>
          <input type="submit" class="#0277bd light-blue darken-3 btn" value="Guardar">
        </div>
      </div>
    </form>
  </div>
</div>

<!-- ########################################## ELIMINAR EMPLEADO ############################### -->

<div id="modal2" class="modal">
  <div class="modal-content">
    <h4>Eliminar Empleado</h4>
    <p>Realmente deseea eliminar el empleado</p>
  </div>
  <div class="modal-footer" #modal2Footer>
    <a class="modal-action modal-close waves-effect waves-red btn-flat">Cancelar</a>
    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Confirmar</a>
  </div>
</div>

<!-- ########################################## BUSCAR EMPLEADO ################################# -->

<div id="modal3" class="modal">
  <div class="modal-content">
    <form (submit)="BuscarPorFiltro()" class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <input id="filtro" type="text" [(ngModel)]="parametro" name="parametro" class="validate">
          <label for="filtro">{{filtro}}</label>
        </div>
        <div class="input-field col s12">
          <a class="modal-action modal-close waves-effect waves-red btn">Cancelar</a>
          <input type="submit" class="#0277bd light-blue darken-3 btn" value="Buscar">
        </div>
      </div>
    </form>
  </div>
</div>

<!-- ################################### CAMBIO PRIVILEGIOS ########################################-->

<div id="modal4" class="modal">
  <div class="modal-content">
    <h4>Privilegios</h4>
    <h6 name="empleadoSeleccionado" id="empleadoSeleccionado" #empleadoSeleccionado></h6>
    <!--###################################SELECT-->
    <select materialize="material_select" id="privilegios" type="text" [(ngModel)]="privilegios" name="privilegios" #inputprivilegios
      class="modal-content">
      <option value="" disabled selected>Seleccione su opción</option>
      <option value="1">Nivel 1</option>
      <option value="2">Nivel 2</option>
      <option value="3">Nivel 3</option>
    </select>
    <!--###################################SELECT-->
    <h5>Información:</h5>
    <ul class="collapsible" data-collapsible="accordion">
      <li>
        <div class="collapsible-header active">
          <i class="material-icons">star_border</i>Nivel 1</div>
        <div class="collapsible-body">
          <span>Permite al usuario consultar, modificar y eliminar datos básicos como la información de clientes.</span>
        </div>
      </li>
      <li>
        <div class="collapsible-header">
          <i class="material-icons">star_half</i>Nivel 2</div>
        <div class="collapsible-body">
          <span>Permite al usuario consultar, modificar y eliminar datos de proyectos y clientes. No tiene acceso a datos financieros
            de los proyectos.</span>
        </div>
      </li>
      <li>
        <div class="collapsible-header">
          <i class="material-icons">star</i>Nivel 3</div>
        <div class="collapsible-body">
          <span>Permite al usuario consultar, modificar y eliminar datos de empleados, proyectos, clientes sin limitaciones.</span>
        </div>
      </li>
    </ul>
  </div>
  <div class="modal-footer" #modal4Footer>
    <a class="modal-action modal-close waves-effect waves-red btn-flat">Cancelar</a>
    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Confirmar</a>
  </div>
</div>

<!-- ############################################### TABLA ######################################### -->

<div class="container">

  <div class="row">
    <div class="col s12 m12">
      <div class="card #f5f5f5 grey lighten-4">
        <div class="card-content ">
          <span class="card-title">Gestión de empleados</span>
          <div class="input-field col m6 offset-m5 s8">
            <button type="button" label="Click" (click)="modal1()" class="#039be5 light-blue darken-1 btn">Agregar</button>
          </div>

          <div class="input-field col m8 offset-m2 s8">
            <i class="material-icons prefix">search</i>
            <select materialize="material_select" (change)="buscar()" #buscador>
              <option value="" disabled selected>Buscar por</option>
              <option value="nombre">Nombre</option>
              <option value="cedula">Cedula</option>
              <option value="telefono">Telefono</option>
              <option value="todos">Todos</option>
            </select>
          </div>

          <table>
            <thead class="centered">
              <tr>
                <td>Nombre</td>
                <td>Apellidos</td>
                <td>Cedula</td>
                <td>Dirección</td>
                <td>Telefono</td>
                <td>Correo</td>
                <td>Usuario</td>
                <td>Privilegios</td>
                <td>Editar</td>
                <td>Eliminar</td>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let v of ax | paginate: {itemsPerPage:5, currentPage: p}">
                <td>{{v.nombre}}</td>
                <td>{{v.apellidos}}</td>
                <td>{{v.cedula}}</td>
                <td>{{v.direccion}}</td>
                <td>{{v.telefono}}</td>
                <td>{{v.correo}}</td>
                <td>{{v.usuario}}</td>
                <!-- #####################PRIVILEGIOS CON ICONOS DINAMICOS#####################-->
                <td>
                  <a class="waves-effect waves-light btn-flat" (click)="Cambio_Privilegios(v.cedula)">
                    <div [ngSwitch]="v.privilegios">
                      <i *ngSwitchCase="0" class="tiny material-icons left">error_outline</i>
                      <i *ngSwitchCase="1" class="tiny material-icons left">star_border</i>
                      <i *ngSwitchCase="2" class="tiny material-icons left">star_half</i>
                      <i *ngSwitchCase="3" class="tiny material-icons left">star</i>
                    </div>
                  </a>
                </td>
                <!-- ############################################################################-->
                <td>
                  <a class="waves-effect waves-light btn-flat" (click)="Editar(v.cedula)">
                    <i class="tiny material-icons left">create</i>
                  </a>
                </td>
                <td>
                  <a class="waves-effect waves-light btn-flat" (click)="Confirmar_Eliminar(v.cedula)">
                    <i class="tiny material-icons left">delete</i>
                  </a>
                </td>

              </tr>
            </tbody>
          </table>
          <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </div>
      </div>
    </div>

  </div>

</div>