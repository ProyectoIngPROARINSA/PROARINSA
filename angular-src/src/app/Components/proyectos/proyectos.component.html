<!-- ############################################################################################ -->
<!-- ########################################## BODY ############################################ -->
<!-- ############################################################################################ -->

<!-- ########################################## INGRESAR PROYECTO ############################## -->

<div id="modal1" class="modal">
  <div class="modal-content">
    <form (submit)="ProyectoSubmit()" class="col s12" id="FormAgregar">
      <div class="row">
        <div class="input-field col s12">
          <input id="nombreProyecto" type="text" [(ngModel)]="nombreProyecto" name="nombreProyecto" class="validate" #inputnombreProyecto>
          <label for="nombreProyecto" #LabelNombreProyecto>Nombre del proyecto</label>
        </div>
        <div class="input-field col s12">
          <select materialize="material_select" [(ngModel)]="tipoProyecto" name="tipoProyecto" id="ddTipoProyecto">
            <option value="" disabled selected>Tipo de Proyecto</option>
            <option value="Corto Plazo">Corto Plazo</option>
            <option value="Subsidios">Subsidios(bonos)</option>
          </select>
        </div>
        <div class="input-field col s12">
          <select materialize="material_select" [(ngModel)]="tipoObra" name="tipoObra" id="ddTipoObra">
            <option value="" disabled selected>Tipo de Obra</option>
            <option value="Obras Mayores">Obras Mayores</option>
            <option value="Obras Menores">Obras Menores</option>
          </select>
        </div>
        <div class="input-field col s12">
          <input id="descripcion" type="text" [(ngModel)]="descripcion" name="descripcion" class="validate" #inputdescripcion>
          <label for="descripcion" #Labeldescripcion>Descripción</label>
        </div>
        <div class="input-field col s12">
          <input id="fechaInicio" type="text" [(ngModel)]="fechaInicio" name="fechaInicio" class="datepicker">
          <label for="fechaInicio" class="active" #LabelFechaInicio>Fecha de Inicio</label>
        </div>
        <div class="input-field col s12">
          <input id="fechaFinaliza" type="text" [(ngModel)]="fechaFinaliza" name="fechaFinaliza" class="datepicker">
          <label for="fechaFinaliza" class="active" #LabelFechaFinaliza>Fecha de Finalizacion</label>
        </div>
        <div class="input-field col s12">
          <select materialize="material_select" [(ngModel)]="estado" name="estado" id="ddEstado">
            <option value="" disabled selected>Estado del proyecto</option>
            <option value="En Proceso">En Proceso</option>
            <option value="Pausado">Pausado</option>
            <option value="Finalizado">Finalizado</option>
          </select>
        </div>
        <div class="input-field col s12">
          <input id="banco" type="text" [(ngModel)]="banco" name="banco" class="validate" #inputbanco>
          <label for="banco" #Labelbanco>Nombre del banco</label>
        </div>
        <div class="input-field col s12">
          <select id="ddClientes" materialize="material_select" class="js-example-basic-single" name="state" style="width: 100%;" #dropdownClientes>
          </select>
        </div>
        <div class="input-field col s12">
          <select id="ddEmpleados" materialize="material_select" class="js-example-basic-single" name="state2" style="width: 100%;"
            #dropdownEmpleados>
          </select>
        </div>
        <div class="input-field col s12">
          <a class="modal-action modal-close waves-effect waves-green btn">Cancelar</a>
          <input type="submit" class="#0277bd light-blue darken-3 btn" value="Guardar">
        </div>
      </div>
    </form>
  </div>
</div>

<!-- ########################################## ELIMINAR EMPLEADO ############################### -->

<div id="modal2" class="modal">
  <div class="modal-content">
    <h4>Eliminar Empleado</h4>
    <p>Realmente deseea eliminar el empleado</p>
  </div>
  <div class="modal-footer" #modal2Footer>
    <a class="modal-action modal-close waves-effect waves-green btn-flat">Cancelar</a>
    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Confirmar</a>
  </div>
</div>

<div id="modal4" class="modal">
  <div class="modal-content">
    <h4>Detalles del Proyecto</h4>
    <table>
      <thead class="centered">
        <tr>
          <td>Banco</td>
          <td>Cliente</td>
          <td>Fecha de Finalizacion</td>
          <td>Profesional Responsable</td>
          <td>Tipo de Obra</td>
          <td>Descripción</td>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let v of detalles">
          <td>{{v.banco}}</td>
          <td>{{v.cliente}}</td>
          <td>{{v.fechafinaliza}}</td>
          <td>{{v.profresponsable}}</td>
          <td>{{v.tipoobra}}</td>
          <td>{{v.descripcion}}</td>
        </tr>
      </tbody>
    </table>
    <!-- <p>{{v.descripcion}}</p> -->
  </div>
</div>


<!-- ########################################## BUSCAR EMPLEADO ################################# -->

<div id="modal3" class="modal">
  <div class="modal-content">
    <form (submit)="BuscarPorFiltro()" class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <input id="filtro" type="text" [(ngModel)]="parametro" name="parametro" class="validate">
          <label for="filtro">{{filtro}}</label>
        </div>
        <div class="input-field col s12">
          <a class="modal-action modal-close waves-effect waves-green btn">Cancelar</a>
          <input type="submit" class="#0277bd light-blue darken-3 btn" value="Buscar">
        </div>
      </div>
    </form>
  </div>
</div>


<div class="container">

  <div class="row">
    <div class="col s12 m12">
      <div class="card #f5f5f5 grey lighten-4">
        <div class="card-content ">
          <span class="card-title">Gestión de proyectos</span>
          <div class="input-field col m6 offset-m5 s8">
            <button type="button" label="Click" (click)="modal1()" class="#039be5 light-blue darken-1 btn">Agregar</button>
          </div>

          <div class="input-field col m8 offset-m2 s8">
            <i class="material-icons prefix">search</i>
            <select materialize="material_select" (change)="buscar()" #buscador>
              <option value="" disabled selected>Buscar por</option>
              <option value="nombreProyecto">Nombre Proyecto</option>
              <option value="tipoProyecto">Tipo de Proyecto</option>
              <option value="tipoObra">Tipo de Obra</option>
              <option value="profResponsable">Profesional Responsable</option>
              <option value="fechaInicio">Fecha de inicio</option>
              <option value="estado">Estado</option>
              <option value="todos">Todos</option>
            </select>
          </div>

          <table>
            <thead class="centered">
              <tr>
                <td>Nombre del Proyecto</td>
                <td>Tipo de proyecto</td>
                <td>Tipo de obra</td>
                <td>Fecha Inicio</td>
                <td>Estado</td>
                <td>Inspeccionar</td>
                <td>Editar</td>
                <td>Eliminar</td>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let v of ax">
                <td>{{v.nombreproyecto}}</td>
                <td>{{v.tipoproyecto}}</td>
                <td>{{v.tipoobra}}</td>
                <td>{{v.fechainicio}}</td>
                <td>{{v.estado}}</td>
                <!-- OJO CAMBIAR DESPUES nombreProyecto por codProyecto -->
                <td>
                  <a class="waves-effect waves-light btn-flat" (click)="Detalles(v)">
                    <i class="tiny material-icons left">visibility</i>
                  </a>
                </td>
                <td>
                  <a class="waves-effect waves-light btn-flat" (click)="Editar(v.nombreproyecto)">
                    <i class="tiny material-icons left">create</i>
                  </a>
                </td>
                <td>
                  <a class="waves-effect waves-light btn-flat" (click)="Confirmar_Eliminar(v.nombreproyecto)">
                    <i class="tiny material-icons left">delete</i>
                  </a>
                </td>
                <!-- //////////////////////////////////////////////////// -->
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>